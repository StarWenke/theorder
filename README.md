# 小蛮腰后台订单模块

### 需求：

* 用户挑选商品后点击支付生成订单
* 用户可以取消未支付的订单
* 当未支付的订单存在超过30mins后转为支付超时订单，订单失效。
* 用户支付订单，调用相关接口（暂时不做）


### 数据库设计：
* 商品表（自增id，商品名称，商品类型，数量，价格）
* 用户表（自增id，姓名，手机号，收货地址）
* 订单表（自增id，创建时间，收获用户id，商品id，订单状态）

订单状态：
* 0 - 订单未支付
* 1 - 订单已支付
* 2 - 订单已取消
* 3 - 订单支付超时


### 接口设计：

* 下单操作（生成订单） 
  * 需要的数据
    * 用户id，商品id
  * 返回的数据


* 查询订单
  * 需要的数据
    * 用户id
  * 返回的数据


* 支付订单-商品状态变化（0》1）
  * 需要的数据
    * 支付订单id
    * 
  * 返回的数据
    

* 订单取消（0》2）
  * 需要的数据
    * 取消的订单id
  * 返回的数据
  
    
* 订单超时（0》3）
  * 考虑redis/java延迟队列
  

* 消息队列（发布订阅者模式提示订单超时）

